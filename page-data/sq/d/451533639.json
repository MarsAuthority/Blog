{"data":{"allMdx":{"nodes":[{"fields":{"slug":"/placeholder/","title":"This Is a Placeholder File for Mdx"},"frontmatter":{"draft":true},"rawBody":"---\ntitle: This Is a Placeholder File for Mdx\ndraft: true\ntags:\n  - gatsby-theme-primer-wiki-placeholder\n---\n"},{"fields":{"slug":"/getting-started/","title":"Getting Started"},"frontmatter":{"draft":false},"rawBody":"# Getting Started\r\n\r\nWelcome to your new foam workspace, let's get you started.\r\n\r\n> if you are already familiar with Foam and don't need help, just remove the `docs` folder for a clean repo.\r\n\r\nLet's go through this to set up your repo:\r\n\r\n- [ ] if you are new with VsCode, see how to [[get-started-with-vscode]] and how to [[use-keyboard-shortcuts-for-editing]]\r\n\r\n- [ ] you can navigate the links between your notes by `cmd+click` (or `ctrl+click` on Windows) on a wiki link. You can go back with `ctrl+-`. Here, go to your [[inbox]]\r\n\r\n- [ ] to see how your notes are connected, execute the `Foam: Show Graph` command. See [[graph-visualization]].\r\n\r\n- [ ] #tags can be used to further organize your content. Look at the `Tag Explorer` view on the left panel to find and navigate the tags in your knowledge base. See [[tags-and-tag-explorer]].\r\n\r\n- [ ] Foam supports [[spell-checking]].\r\n\r\n- [ ] You can also paste images in your Foam, just press `cmd+alt+v` to create the image file and link to it from your note. See [[paste-images-from-clipboard]].\r\n\r\n- [ ] You can use Foam for your daily notes, or journaling. Execute now the `Foam: Open Daily Note` command to create a new file in your `journal` folder. See [[daily-notes]].\r\n\r\n- [ ] Want to see how to manage your tasks? Go to the [[todo]] note\r\n\r\n- [ ] The section at the end of this file contains wikilink definitions, which enable navigation of your notes from GitHub's web UI, and in general to make `[[wikilinks]]` understood by any markdown parser. See [[link-reference-definitions]].\r\n\r\n- [ ] To explore all the Foam settings, press `cmd+,`, then `Extensions > Foam`\r\n\r\n- [ ] Living within VsCode, Foam can be customized in many ways! Look at the [Foam Recipes](https://foambubble.github.io/foam/recipes/recipes) for ideas!\r\n\r\n- [ ] Join the [Foam community on Discord](https://foambubble.github.io/join-discord/e), introduce yourself and leave a message on how you found Foam and how the onboarding went :) We are always keen to do better\r\n\r\n- [ ] Take the [Foam Welcome survey](http://foambubble.github.io/welcome-survey/e)! It helps us better understand your need and how we can make Foam better and better for you :)\r\n\r\n## Advanced Features\r\n\r\n- [ ] You can create [[note-templates]] for things like book reviews, people, daily notes (coming soon), and more!\r\n\r\n## About Foam\r\n\r\nFoam doesn't do all this magic on its own, it relies on some amazing extensions. Look at their documentation if you want to fully unlock the possibilities!\r\n\r\nHere they are:\r\n- [Markdown All In One](https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one)\r\n- [Markdown Notes](https://marketplace.visualstudio.com/items?itemName=kortina.vscode-markdown-notes)\r\n- [vscode-paste-image](https://github.com/mushanshitiancai/vscode-paste-image)\r\n- [spellright](https://marketplace.visualstudio.com/items?itemName=ban.spellright)\r\n\r\nA special mention goes to [Markdown Links](https://marketplace.visualstudio.com/items?itemName=tchayen.markdown-links), which has now been replaced by our graph but was foundational to Foam's beginnings.\r\n\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[get-started-with-vscode]: docs/how-to/get-started-with-vscode.md \"Getting started with VsCode\"\r\n[use-keyboard-shortcuts-for-editing]: docs/how-to/use-keyboard-shortcuts-for-editing.md \"Use Keyboard Shortcuts for Editing\"\r\n[inbox]: inbox.md \"Inbox\"\r\n[graph-visualization]: docs/features/graph-visualization.md \"Graph Visualization\"\r\n[tags-and-tag-explorer]: docs/features/tags-and-tag-explorer.md \"Tags and Tag Explorer\"\r\n[spell-checking]: docs/features/spell-checking.md \"Spell Checking\"\r\n[paste-images-from-clipboard]: docs/how-to/paste-images-from-clipboard.md \"Paste Images from Clipboard\"\r\n[daily-notes]: docs/features/daily-notes.md \"Daily Notes\"\r\n[todo]: todo.md \"Todo\"\r\n[link-reference-definitions]: docs/features/link-reference-definitions.md \"Link Reference Definitions\"\r\n[note-templates]: docs/features/note-templates.md \"Note Templates\"\r\n[//end]: # \"Autogenerated link references\""},{"fields":{"slug":"/inbox/","title":"Inbox"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Inbox\r\ntags:\r\n    - Inbox\r\n---\r\n\r\n- Here you can write disorganised notes to be categorised later\r\n- Bullet points are useful, but it could be free form text as well\r\n- Sometimes it's better to just get things off your mind quickly, rather than stop to think where it belongs\r\n- But don't let this list get too long\r\n- Move information to more specific documents and link to them.\r\n  - This helps you navigate between documents quickly\r\n  - For example, you can `Cmd`+`Click` this: [[todo]]\r\n- Some notes don't end up making sense the next day\r\n- That's ok, you can just delete them!\r\n  - You can always find them in your git history, if you really need it!\r\n\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[todo]: todo.md \"Todo\"\r\n[//end]: # \"Autogenerated link references\""},{"fields":{"slug":"/","title":"Foam Template for Gatsby Theme Primer Wiki"},"frontmatter":{"draft":false},"rawBody":"---\r\ntags:\r\n  - Readme\r\n  - Getting-Started\r\n---\r\n\r\n# Foam Template for Gatsby Theme Primer Wiki\r\n\r\n**👋Another Foam template that use [gatsby-theme-primer-wiki](https://github.com/theowenyoung/gatsby-theme-primer-wiki), Welcome to your new Foam Knowledge Base!**\r\n\r\n## Examples\r\n\r\n- [Demo](https://demo-wiki.owenyoung.com) - ([Source](https://github.com/theowenyoung/gatsby-theme-primer-wiki/tree/main/example))\r\n- [Everything I Know by Owen](https://wiki.owenyoung.com/) - ([Source](https://github.com/theowenyoung/wiki))\r\n- [Foam Demo](https://demo-foam.owenyoung.com/) - ([Source](https://github.com/theowenyoung/foam-template-gatsby-theme-primer-wiki))\r\n- [Obsidian Demo](https://demo-obsidian.owenyoung.com/) - ([Source](https://github.com/theowenyoung/obsidian-template-gatsby-theme-primer-wiki))\r\n- [Gatsby Starter Demo](https://demo-gatsby-starter-primer-wiki.owenyoung.com/) - ([Source](https://github.com/theowenyoung/gatsby-starter-primer-wiki))\r\n\r\n## Features\r\n\r\n- Support Local search, full-text search.\r\n- Support Graph Visualisation with canvas.\r\n- Support Tags, Tags First, Generating tag pages, also connecting with graph visualisation.\r\n- Support [Gitbook](https://docs.gitbook.com/integrations/github/content-configuration#summary) styled `SUMMARY.md` for custom sidebar.\r\n- Support `[[WikiLink]]`, But you'd better use [Link Reference Definitions](https://foambubble.github.io/foam/features/link-reference-definitions) with extensions, `\"foam.edit.linkReferenceDefinitions\": \"withExtensions\"`\r\n- Support Light/Dark Theme\r\n- Custom Header Nav Items\r\n- Nested sidebar\r\n- Support Google Analytics\r\n- Support Sitemap/Robot\r\n- SEO optimization\r\n- Support path prefix\r\n\r\n## Principles\r\n\r\nHere are my main ideas/principles in designing this theme.\r\n\r\n1. No vendor lock-in. The less vendor features you use, the better you'll be able to migrate. `[[Wikilink]]` is the only non-markdown feature supported by default, but nonetheless, it is recommended to use the standard markdown syntax, or if you edit with [Foam](https://github.com/foambubble/foam), please use [Wikilink](https://foambubble.github.io/foam/wikilinks) with [Link Reference Definitions](https://foambubble.github.io/foam/features/link-reference-definitions). That give us the capability change our theme, or hosted place.\r\n2. Use meta data instead of special characters. We should use `tags` as the document's metadata, not `#tag` in the plain text.\r\n3. Use tags instead of categories. Minimal subfolders.\r\n\r\n## Getting started\r\n\r\n### For new wiki\r\n\r\nThis documentation assumes that you have a GitHub account and have [Visual Studio Code](https://code.visualstudio.com/) installed on your Linux/MacOS/Windows machine.\r\n\r\n1. If you haven't yet, browse over to the main [Foam documentation](https://foambubble.github.io/foam) to get an idea of what Foam is and how to use it.\r\n2. Press \"Use this template\" button at [foam-template-gatsby-theme-primer-wiki](https://github.com/theowenyoung/foam-template-gatsby-theme-primer-wiki/generate) (that's this repository!) to fork it to your own GitHub account. If you want to keep your thoughts to yourself, remember to set the repository private.\r\n3. [Clone the repository to your local machine](https://help.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository) and open it in VS Code.\r\n\r\n   _Open the repository as a folder using the `File > Open...` menu item._\r\n\r\n4. When prompted to install recommended extensions, click **Install all** (or **Show Recommendations** if you want to review and install them one by one)\r\n5. Delete all `.md` files you don't need, Change Site settings at `.layouts/gatsby-config.js`, change your CNAME at `.layouts/static/CNAME`, change your icon at `.layouts/static/logo.png`, commit your changes, and push to github, change your page settings at Github, make sure you set the page branch to `gh-pages`, then when github actions runed, you can visit your site.\r\n\r\nAfter setting up the repository, head to [[getting-started]] to get familiar with your new knowledge base!\r\n\r\nTo learn more about how to use **Foam**, read the [Recipes](https://foambubble.github.io/foam/recipes/recipes) bubbles of the Foam documentation workspace.\r\n\r\nAnd remember that you can always join our [Foam community on Discord](https://foambubble.github.io/join-discord/g)!\r\n\r\n### For exist wiki\r\n\r\n### Exist Wiki\r\n\r\n1. Clone this repo to your local machine\r\n\r\n```bash\r\ngit clone https://github.com/theowenyoung/foam-template-gatsby-theme-primer-wiki.git\r\n```\r\n\r\n2. Copy `.layouts`, `.github` `.gitignore` to your wiki folder.\r\n\r\n## Config\r\n\r\nSee [here](https://github.com/theowenyoung/gatsby-theme-primer-wiki#usage)\r\n\r\n## Local Preview\r\n\r\n```bash\r\ncd .layouts\r\nnpm i\r\nnpm start\r\n```\r\n\r\n\r\n## Deploy\r\n\r\nDeploy to Github Pages, see `.github/workflows/deploy.yml`,\r\n\r\n### Path Prefix\r\n\r\nIf you want deploy your site with prefix path, \r\n\r\n1. change `gatsby-config.js` with:\r\n\r\n```javascript\r\nmodule.exports = {\r\n  pathPrefix: `/blog`,\r\n}\r\n```\r\n\r\n2. set your build script with `gatsby build --prefix-paths`,\r\n\r\n\r\n3. Local Preview with `gatsby serve --prefix-paths`\r\n\r\n\r\nAlso see the original docs: <https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/path-prefix/#add-to-gatsby-configjs>\r\n\r\n## Using Foam\r\n\r\nWe've created a few Bubbles (markdown documents) to get you started.\r\n\r\n- [[inbox]] - a place to write down quick notes to be categorized later\r\n- [[getting-started]] - learn how to use your Foam workspace\r\n- [[todo]] - a place to keep track of things to do\r\n\r\nIn the `docs` directory you can find everything you need to learn the basics of Foam.\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[getting-started]: getting-started.md \"Getting Started\"\r\n[inbox]: inbox.md \"Inbox\"\r\n[getting-started]: getting-started.md \"Getting Started\"\r\n[todo]: todo.md \"Todo\"\r\n[//end]: # \"Autogenerated link references\"\r\n"},{"fields":{"slug":"/todo/","title":"Todo"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Todo\r\ntags:\r\n    - Readme\r\n    - Todo\r\n---\r\nYou can create todos in Foam.\r\n\r\n- [x] This is an example of a todo list item that's complete\r\n- [ ] This one is not completed yet\r\n- [ ] You can mark it completed by pressing `Option`+`C` (or `Alt`+`C`) when your cursor is on this line\r\n  - [ ] You can also select multiple lines and mark them all at once!\r\n\r\n"},{"fields":{"slug":"/docs/Blue Team基础设施/2021 EPP魔力象限 EPP Magic Quadrant/","title":"2021 EPP魔力象限 EPP Magic Quadrant"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: 2021 EPP魔力象限 EPP Magic Quadrant\r\ntags:\r\n- Blue Team基础设施\r\n- 终端基础设施\r\n- EDR\r\n---\r\n\r\n![https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2023-01/ZP3Qyi.jpg](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2023-01/ZP3Qyi.jpg)\r\n\r\n# 1. 市场趋势\r\n- 到 2023 年底，云交付的 EPP 解决方案将超过 95% 。\r\n- 到 2025 年，50% 使用 EDR 的组织将使用托管检测和响应功能（MDR）。\r\n- 到 2025 年，60% 的 EDR 解决方案将包含来自多个安全控制源的数据，例如身份认证、CASB 和 DLP。\r\n\r\n# 2. 市场定义/描述\r\n- Gartner对EPP市场的定义如下：EPP提供了将agent或sensor部署到托管终端（包括 PC、服务器和其他设备）的工具；这些旨在防止一系列已知和未知的恶意软件和威胁，并提供免受此类威胁的保护；此外，它们还提供调查和补救任何逃避保护控制的事件的能力。\r\n- EPP的核心功能是：\r\n  - 预防和保护安全威胁，包括使用基于文件和无文件漏洞的恶意软件。\r\n  - 将控制（允许/阻止）应用于软件、脚本和进程的能力 。\r\n  - 使用对设备活动、应用程序和用户数据的行为分析来检测和预防威胁的能力 。\r\n  - 当漏洞利用逃避保护控制时进一步调查事件和/或获得补救指导的设施 。\r\n- EPP中经常出现的可选功能可能包括：\r\n  - 终端设备的资产、配置和策略管理的收集和报告 。\r\n  - 磁盘加密、本地防火墙设置等操作系统安全控制状态的管理和报告 。\r\n  - 扫描系统漏洞和报告/管理安全补丁安装的设施 。\r\n  - 能够报告互联网、网络和应用程序活动，以获得潜在恶意活动的其他迹象 。\r\n\r\n# 3. 市场概览\r\n- 勒索软件目前是所有组织面临的最大风险。\r\n- 远程办公显著加速了基于云的解决方案落地（存量占60%，增量占95%）。\r\n- 无文件攻击已经非常普及，使得基于行为的检测防护成为EDR工具的关键能力。\r\n- 采用EDR工具的最大障碍仍然是操作它们所需的技能和增加的总成本。\r\n- 为了缩小技能差距，提供监控和警报分类的MDR服务正变得越来越流行。\r\n- SolarWinds供应链攻击说明了EDR的价值和缺点；EDR并没有实时检测到SolarWinds攻击，但在阻止新发现的恶意行为非常有用。\r\n- SolarWinds 攻击还表明需要至少更好地集成来自身份和电子邮件的遥测数据，以及需要有效的篡改保护以确保代理不被禁用。\r\n- XDR正在成为EPP解决方案的最新关键功能。\r\n- 所有组织都需要优先级更高的加固指导。\r\n- EPP解决方案还可以添加移动端的威胁防御和与统一终端管理的集成，以减少整体管理负担。\r\n\r\n# 4. 准入准出原则\r\n- 所有供应商必须至少提供以下12项：\r\n  - 无需更新规则即可防御。\r\n  - 可以根据进程行为检测恶意活动。\r\n  - 可以将IOC/IOA数据集中存储分析。\r\n  - 能够检测防御无文件恶意文件的攻击。\r\n  - 检测到恶意软件时自动删除恶意软件，删除/隔离文件/终止进程。\r\n  - 能够在控制台压制/忽略误报。\r\n  - EPP控制台必须是基于云的SaaS服务，由供应商管理维护。\r\n  - 控制台和报告能够显示完整的进程树，以识别进程是如何产生的，并进行可操作的根本原因分析。\r\n  - 需提供威胁狩猎能力，控制台提供跨终端的IOC/IOA（如文件哈希、源/目标 IP、注册表项）搜索。\r\n  - 能够识别恶意软件并给出修复步骤或者实现回滚。\r\n  - 提供选项将威胁情报集成到管理控制台中。\r\n  - 能够防护常见应用程序漏洞和内存利用攻击。\r\n  - 当终端设备位于公司网络之外时，必须继续收集可疑事件数据。\r\n  - 能对文件夹、驱动器或设备（例如 USB 驱动器）执行静态、按需恶意软件检测扫描。\r\n  - 所有功能都必须在单个agent/sensor中提供或直接集成到操作系统中。\r\n\r\n# 5. 参考资料\r\n- [https://www.gartner.com/doc/reprints?ct=210506&id=1-25Z4TEJM&st=sb](https://www.gartner.com/doc/reprints?ct=210506&id=1-25Z4TEJM&st=sb)"},{"fields":{"slug":"/docs/Blue Team基础设施/CrowdStrike Falcon/","title":"CrowdStrike Falcon"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: CrowdStrike Falcon\r\ntags:\r\n- Blue Team基础设施\r\n- 终端基础设施\r\n- EDR\r\n- CrowdStrike\r\n---\r\n\r\n# 1. CrowdStrike EDR 解决方案中最重要的是什么？\r\n![NsTQNy](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2023-01/NsTQNy.jpg)\r\n\r\n- **找到能够提供最高级别的保护同时需要最少的努力和投资的 EDR 安全解决方案非常重要**——在不耗尽资源的情况下为您的安全团队增加价值。以下是您应该寻找的 EDR 的六个关键方面：\r\n\r\n  - **可见度：**跨所有终端的实时可见性，从而可以检测发现攻击者活动，进而实施阻断。\r\n  - **威胁数据库：**EDR 需要从终端收集大量遥测数据并丰富上下文，因此可以使用各种分析技术挖掘攻击迹象。\r\n  - **行为保护：**仅依赖基于签名或IOC会导致检测能力被轻易绕过，从而导致数据泄露；EDR需要能通过行为来搜索攻击指标 (IOAs，crowdstrike发明的)，以便在发生危害之前收到可疑活动的告警。\r\n\r\n- TODO > 什么是攻击指标 Indicators of attack (IOA)？\r\n  攻击指标 (IOA)侧重于检测攻击者试图完成的目标的意图，而不管攻击中使用的恶意软件或漏洞。就像杀毒软件的签名一样，基于 IOC 的检测方法无法检测到0day攻击和免杀恶意软件。\r\n\r\n  >比如鱼叉攻击，必须欺骗目标点击链接或打开恶意文件/文档，一旦机器沦陷，攻击者将默默地执行另一个进程，隐藏在内存或磁盘中，并在系统重新启动后维持权限；然后与C2联系，等待进一步的指示。\r\n  >\r\n  >IOA 关注这些具体步骤的执行、对手的意图以及他试图实现的结果。IOA并不关注他用来实现目标的特定工具，而实监控关键行动，通过有状态执行检查引擎(Stateful Execution Inspection Engine)来收集和使用指标(indicators )，我们可以确定攻击者如何成功访问网络并推断其意图。\r\n\r\n  - **洞察力和智慧：**集成威胁情报的EDR解决方案可以提供上下文，包括攻击您的特定对手的详细信息或有关攻击的其他信息。\r\n  - **快速响应：**EDR能够对事件做出快速准确的响应，可以在攻击造成影响之前阻止攻击，并快速恢复业务。\r\n  - **基于云：**基于云的EDR解决方案可以降低对终端的影响，同时确保可以准确、实时地完成搜索、分析和调查等功能。\r\n\r\n# 2. CrowdStrike EDR 是如何工作的？\r\n- EDR解决方案的工作原理是提供对终端上发生事情的持续和全面的实时检测/监控。然后将行为分析和可操作的情报应用于终端数据，以阻止攻击告警演变为安全事件。功能包括：\r\n  - **1. 自动发现未知攻击者**\r\n    - Falcon Insight 将所有终端的遥测数据与IOA配对，并使用其行为来分析数十亿事件，自动检测可疑行为的痕迹；如果一系列事件和告警与已知 IOA匹配，agent将把该活动标记为恶意并自动发送告警；用户还可以编写自己的搜索条件，Falcon Insight的云架构可在5 秒或更短的时间内返回查询结果。\r\n  - **2. 与威胁情报集成**\r\n    - 可以更快地检测被识别为恶意的TTPs，并提供了上下文信息，其中包括相关的归因，提供有关攻击者的详细信息以及有关攻击的任何其他信息。\r\n  - **3. 主动防御，托管式威胁狩猎**\r\n    - 作为 Falcon 平台的一部分，Falcon OverWatch™ 托管威胁追踪服务增加了一个额外的保护能力，安全专家会帮助客户采取行动，以确保不会遗漏威胁，并最终防止发生大规模泄露。\r\n  - **4. 提供实时/历史的可见性**\r\n    - Falcon Insight就像终端上的 DVR，记录相关活动以捕捉尝试绕过检测的安全事件；Falcon agent跟踪了数百个不同的安全相关事件，例如进程创建、驱动程序加载、注册表修改、磁盘访问、内存访问或网络连接等，客户可以从安全角度全面了解其终端上发生的一切。\r\n    - 这为安全团队提供了他们需要的有用信息，包括：\r\n      - 内外与外部的网络连接\r\n      - 直接/远程登录的所有用户帐户\r\n      - ASP 密钥的变更、可执行文件和管理工具的使用\r\n      - 进程执行\r\n      - 详细的进程级别的网络活动，包括 DNS 请求、连接和开放端口\r\n      - 存档文件创建，包括 RAR 和 ZIPS\r\n      - USB等外部存储介质\r\n  - **5. 加速调查**\r\n    - 能够加快调查和最终修复的速度，因为从终端收集的信息通过Falcon 平台存储在 CrowdStrike 云中，使用了一个图形数据库来跟踪每个终端事件之间的所有关系和联系，该数据库可以快速、大规模地提供历史和实时数据的详细信息和上下文，这使安全团队能够有效地跟踪即使是最复杂的攻击，并及时发现事件，并对它们进行分类、验证和确定优先级，从而更快、更精确地进行补救。\r\n  - **6. 实现快速的修复**\r\n    - Falcon Insight 可以隔离终端，它允许组织通过将可能受到威胁的主机与所有网络活动隔离开来采取迅速和即时的行动。当终端受被隔离，它仍然可以从 CrowdStrike 云发送和接收信息，但即使与云的连接被切断，它仍将保持被隔离，并在重新启动期间保持这种隔离状态。\r\n    - **在应对新出现的威胁时，时间至关重要，响应者需要实时、深入的可见性，以便他们能够快速果断地进行补救。**\r\n    - **信息收集器**允许安全团队通过执行以下任务，以了解威胁的风险和范围：\r\n      - 浏览文件系统并提取文件\r\n      - 列出正在运行的进程\r\n      - 提取 Windows 事件日志\r\n      - 查询 Windows 注册表\r\n      - 列出当前的网络连接和配置\r\n      - 提取进程内存\r\n      - 计算文件哈希\r\n      - 收集环境变量\r\n      - 使用 PowerShell 或其他工具收集其他所需信息\r\n    - **补救措施**使团队能够迅速而果断地采取行动来遏制或补救威胁，包括：\r\n      - 删除文件\r\n      - 结束一个进程\r\n      - 删除或修改 Windows 注册表项或值\r\n      - 上传文件\r\n      - 运行脚本或可执行文件\r\n      - 加密文件\r\n      - 重启/关机\r\n- 借助 CrowdStrike 的云原生架构、轻量级agent和统一控制台，实时响应功能可以交付到世界上任何地方的任何系统，而对成本或性能的影响几乎为零。\r\n\r\n# 3. 参考资料\r\n- [https://www.crowdstrike.com/cybersecurity-101/indicators-of-compromise/ioa-vs-ioc/](https://www.crowdstrike.com/cybersecurity-101/indicators-of-compromise/ioa-vs-ioc/)\r\n- [https://www.crowdstrike.com/cybersecurity-101/endpoint-security/endpoint-detection-and-response-edr/](https://www.crowdstrike.com/cybersecurity-101/endpoint-security/endpoint-detection-and-response-edr/)"},{"fields":{"slug":"/docs/Blue Team基础设施/保障IDC安全：分布式HIDS集群架构设计/","title":"保障IDC安全：分布式HIDS集群架构设计"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: 保障IDC安全：分布式HIDS集群架构设计\r\ntags:\r\n- Blue Team基础设施\r\n- 终端基础设施\r\n- EDR\r\n---\r\n\r\n# 1. 转载自美团技术团队\r\n- [https://tech.meituan.com/2019/01/17/distributed-hids-cluster-architecture-design.html](https://tech.meituan.com/2019/01/17/distributed-hids-cluster-architecture-design.html)\r\n\r\n# 2. 背景\r\n近年来，互联网上安全事件频发，企业信息安全越来越受到重视，而IDC服务器安全又是纵深防御体系中的重要一环。保障IDC安全，常用的是基于主机型入侵检测系统Host-based Intrusion Detection System，即HIDS。在HIDS面对几十万台甚至上百万台规模的IDC环境时，系统架构该如何设计呢？复杂的服务器环境，网络环境，巨大的数据量给我们带来了哪些技术挑战呢？\r\n\r\n# 3. 需求描述\r\n对于HIDS产品，我们安全部门的产品经理提出了以下需求：\r\n\r\n- 满足50W-100W服务器量级的IDC规模。\r\n- 部署在高并发服务器生产环境，要求Agent低性能低损耗。\r\n- 广泛的部署兼容性。\r\n- 偏向应用层和用户态入侵检测（可以和内核态检测部分解耦）。\r\n- 针对利用主机Agent排查漏洞的最急需场景提供基本的能力，可以实现海量环境下快速查找系统漏洞。\r\n- Agent跟Server的配置下发通道安全。\r\n- 配置信息读取写入需要鉴权。\r\n- 配置变更历史记录。\r\n- Agent插件具备自更新功能。\r\n\r\n# 4. 分析需求\r\n  - 首先，服务器业务进程优先级高，HIDS Agent进程自己可以终止，但不能影响宿主机的主要业务，这是第一要点，那么业务需要具备熔断功能，并具备自我恢复能力。\r\n  - 其次，进程保活、维持心跳、实时获取新指令能力，百万台Agent的全量控制时间一定要短。举个极端的例子，当Agent出现紧急情况，需要全量停止时，那么全量停止的命令下发，需要在1-2分钟内完成，甚至30秒、20秒内完成。这些将会是很大的技术挑战。\r\n  - 还有对配置动态更新，日志级别控制，细分精确控制到每个Agent上的每个HIDS子进程，能自由地控制每个进程的启停，每个Agent的参数，也能精确的感知每台Agent的上线、下线情况。\r\n  - 同时，Agent本身是安全Agent，安全的因素也要考虑进去，包括通信通道的安全性，配置管理的安全性等等。\r\n  - 最后，服务端也要有一致性保障、可用性保障，对于大量Agent的管理，必须能实现任务分摊，并行处理任务，且保证数据的一致性。考虑到公司规模不断地扩大，业务不断地增多，特别是美团和大众点评合并后，面对的各种操作系统问题，产品还要具备良好的兼容性、可维护性等。\r\n  - 总结下来，产品架构要符合以下特性：\r\n    - 集群高可用。\r\n    - 分布式，去中心化。\r\n    - 配置一致性，配置多版本可追溯。\r\n    - 分治与汇总。\r\n    - 兼容部署各种Linux 服务器，只维护一个版本。\r\n    - 节省资源，占用较少的CPU、内存。\r\n    - 精确的熔断限流。\r\n    - 服务器数量规模达到百万级的集群负载能力。\r\n\r\n# 5. 技术难点：\r\n在列出产品需要实现的功能点、技术点后，再来分析下遇到的技术挑战，包括不限于以下几点：\r\n\r\n- 资源限制，较小的CPU、内存。\r\n- 五十万甚至一百万台服务器的Agent处理控制问题。\r\n- 量级大了后，集群控制带来的控制效率，响应延迟，数据一致性问题。\r\n- 量级大了后，数据传输对整个服务器内网带来的流量冲击问题。\r\n- 量级大了后，运行环境更复杂，Agent异常表现的感知问题。\r\n- 量级大了后，业务日志、程序运行日志的传输、存储问题，被监控业务访问量突增带来监控数据联突增，对内网带宽，存储集群的爆发压力问题。\r\n\r\n我们可以看到，技术难点几乎都是服务器到达一定量级带来的，对于大量的服务，集群分布式是业界常见的解决方案。\r\n\r\n# 6. 架构设计与技术选型\r\n对于管理Agent的服务端来说，要实现高可用、容灾设计，那么一定要做多机房部署，就一定会遇到数据一致性问题。那么数据的存储，就要考虑分布式存储组件。 分布式数据存储中，存在一个定理叫`CAP定理`：\r\n\r\n![lxjgAk](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2023-01/lxjgAk.jpg)\r\n\r\n**CAP的解释**:\r\n- 关于`CAP定理`，分为以下三点：\r\n  - 一致性（Consistency）：分布式数据库的数据保持一致。\r\n  - 可用性（Availability）：任何一个节点宕机，其他节点可以继续对外提供服务。\r\n  - 分区容错性（网络分区）Partition Tolerance：一个数据库所在的机器坏了，如硬盘坏了，数据丢失了，可以添加一台机器，然后从其他正常的机器把备份的数据同步过来。\r\n- 根据定理，分布式系统只能满足三项中的两项而不可能满足全部三项。理解CAP定理的最简单方式是想象两个节点分处分区两侧。允许至少一个节点更新状态会导致数据不一致，即丧失了Consistency。如果为了保证数据一致性，将分区一侧的节点设置为不可用，那么又丧失了Availability。除非两个节点可以互相通信，才能既保证Consistency又保证Availability，这又会导致丧失Partition Tolerance。\r\n- 参见：[CAP Theorem](https://en.wikipedia.org/wiki/CAP_theorem)\r\n\r\n**CAP的选择**:\r\n- 为了容灾上设计，集群节点的部署，会选择的异地多机房，所以 「Partition tolerance」是不可能避免的。那么可选的是 `AP` 与 `CP`。\r\n- 在HIDS集群的场景里，各个Agent对集群持续可用性没有非常强的要求，在短暂时间内，是可以出现异常，出现无法通讯的情况。但最终状态必须要一致，不能存在集群下发关停指令，而出现个别Agent不听从集群控制的情况出现。所以，我们需要一个满足 `CP` 的产品。\r\n\r\n# 7. 满足CP的产品选择\r\n  - 在开源社区中，比较出名的几款满足CP的产品，比如etcd、ZooKeeper、Consul等。我们需要根据几款产品的特点，根据我们需求来选择符合我们需求的产品。\r\n  - 插一句，网上很多人说Consul是AP产品，这是个错误的描述。既然Consul支持分布式部署，那么一定会出现「网络分区」的问题， 那么一定要支持「Partition tolerance」。另外，在consul的官网上自己也提到了这点 Consul uses a CP architecture, favoring consistency over availability.\r\n  \r\n    > Consul is opinionated in its usage while Serf is a more flexible and general purpose tool. In CAP terms, Consul uses a CP architecture, favoring consistency over availability. Serf is an AP system and sacrifices consistency for availability. This means Consul cannot operate if the central servers cannot form a quorum while Serf will continue to function under almost all circumstances.\r\n\r\n  - **etcd、ZooKeeper、Consul对比**\r\n\r\n    - 借用etcd官网上etcd与ZooKeeper和Consul的比较图。\r\n    - ![XotcyC](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2023-01/XotcyC.jpg)\r\n    - 在我们HIDS Agent的需求中，除了基本的`服务发现` 、`配置同步` 、`配置多版本控制` 、`变更通知`等基本需求外，我们还有基于产品安全性上的考虑，比如`传输通道加密`、`用户权限控制`、`角色管理`、`基于Key的权限设定`等，这点 `etcd` 比较符合我们要求。很多大型公司都在使用，比如`Kubernetes`、`AWS`、`OpenStack`、`Azure`、`Google Cloud`、`Huawei Cloud`等，并且`etcd`的社区支持非常好。基于这几点因素，我们选择etcd作为HIDS的分布式集群管理。\r\n\r\n# 8. 分布式HIDS集群架构图\r\n![c09vZx](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2023-01/c09vZx.jpg)\r\n\r\n# 9. 编程语言选择\r\n考虑到公司服务器量大，业务复杂，需求环境多变，操作系统可能包括各种Linux以及Windows等。为了保证系统的兼容性，我们选择了Golang作为开发语言，它具备以下特点：\r\n\r\n- 可以静态编译，直接通过syscall来运行，不依赖libc，兼容性高，可以在所有Linux上执行，部署便捷。\r\n- 静态编译语言，能将简单的错误在编译前就发现。\r\n- 具备良好的GC机制，占用系统资源少，开发成本低。\r\n- 容器化的很多产品都是Golang编写，比如Kubernetes、Docker等。\r\n- etcd项目也是Golang编写，类库、测试用例可以直接用，SDK支持快速。\r\n- 良好的CSP并发模型支持，高效的协程调度机制。\r\n\r\n# 10. 产品架构大方向\r\n  - HIDS产品研发完成后，部署的服务都运行着各种业务的服务器，业务的重要性排在第一，我们产品的功能排在后面。为此，确定了几个产品的大方向：\r\n    - 高可用，数据一致，可横向扩展。\r\n    - 容灾性好，能应对机房级的网络故障。\r\n    - 兼容性好，只维护一个版本的Agent。\r\n    - 依赖低，不依赖任何动态链接库。\r\n    - 侵入性低，不做Hook，不做系统类库更改。\r\n    - 熔断降级可靠，宁可自己挂掉，也不影响业务 。\r\n\r\n# 11. 框架设计\r\n![XMnpix](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2023-01/XMnpix.jpg)\r\n\r\n如上图，在框架的设计上，封装常用类库，抽象化定义`Interface`，剥离`etcd Client`，全局化`Logger`，抽象化App的启动、退出方法。使得各`模块`（以下简称`App`）只需要实现自己的业务即可，可以方便快捷的进行逻辑编写，无需关心底层实现、配置来源、重试次数、熔断方案等等。\r\n\r\n后面不再copy，感兴趣请参考原文"},{"fields":{"slug":"/docs/Blue Team基础设施/加密流量解决方案/","title":"加密流量解决方案"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: 加密流量解决方案\r\ntags:\r\n  - Blue Team基础设施\r\n  - 网络基础设施\r\n  - 加密流量\r\n  - 行业实践\r\n  - Palo Alto Networks\r\n  - Extrahop\r\n  - Gigamon\r\n  - Google\r\n---\r\n\r\n# 1. 基础知识\r\n**X.509 证书：** 证书在客户端和服务器之间建立信任以建立 SSL 连接，尝试对服务器进行身份验证（或对客户端进行身份验证的服务器）的客户端知道 X.509 证书的结构，因此知道如何从证书中的字段中提取有关服务器的标识信息，例如 FQDN 或 IP 地址（称为证书中的通用名称或CN）或颁发证书的组织、部门或用户的名称。证书颁发机构 (CA) 必须颁发所有证书。CA 验证客户端或服务器后，CA 颁发证书并使用私钥对其进行签名。\r\n\r\n# 2. [[Palo Alto Networks]] Solution\r\n**解密策略：** 防火墙必须在其证书信任列表 (CTL) 中拥有服务器根 CA 证书，并使用该根 CA 证书中包含的公钥来验证签名，然后防火墙提供一份由转发信任证书签名的服务器证书的副本，供客户端进行身份验证。\r\n- **Outbound SSL traffic：SSL Forward Proxy**\r\n  - 防火墙是内部客户端和外部服务器之间的中间人。防火墙使用证书将客户端透明地表示给服务器，并将服务器透明地表示给客户端，这样客户端就认为它是直接与服务器通信的（即使客户端会话是与防火墙进行的），服务器也相信它直接与客户端通信（即使服务器会话也与防火墙）。防火墙使用证书将自己建立为客户端-服务器会话的可信第三方（中间人）。\r\n  - ![dsbk1w](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/dsbk1w.jpg)\r\n- **Inbound SSL traffic：SSL Inbound Inspection**\r\n  - 为要执行 SSL 入站检查的每台服务器安装证书和私钥。您还必须在每个执行 SSL 入站检查的防火墙上安装公钥证书和私钥。防火墙执行 SSL 入站检查的方式取决于协商的密钥类型、Rivest、Shamir、Adleman (RSA) 或 Perfect Forward Secrecy ( PFS )。\r\n  - ![SNxlAy](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/SNxlAy.jpg)\r\n- **Tunneled SSH traffic：SSH Proxy**\r\n  - 在 SSH 代理配置中，防火墙位于客户端和服务器之间。SSH 代理使防火墙能够解密入站和出站 SSH 连接，并确保攻击者不会使用 SSH 对不需要的应用程序和内容进行隧道传输。SSH 解密不需要证书，防火墙在启动时会自动生成用于 SSH 解密的密钥。在启动过程中，防火墙会检查是否存在现有密钥。如果没有，防火墙会生成一个密钥。防火墙使用密钥解密防火墙上配置的所有虚拟系统的 SSH 会话和所有 SSH v2 会话。\r\n\r\n# 3. [[Extrahop]] Solution\r\n**TLS 1.3发展带来的问题：Perfect Forward Secrecy**\r\n- 以前版本的 TLS：使用静态DH密钥交换算法很容易解密。\r\n- TLS1.3(PFS) 使用 ECDHE(Elliptic Curve Diffie-Hellman Encryption 密钥协商算法，握手过程中客户端和服务端都需要临时生成椭圆曲线公私钥，这样即使会话密钥被泄露，也无法解密所有会话。\r\n解决方案：\r\n- **中间人劫持：** 串行方案，解密，分析，然后重新加密传输\r\n- **带外监控与解密：** 并行方案，流量镜像实现\r\n\r\n\r\n**ExtraHop Reveal(x)使用带外解密方案**\r\n- 数据获取：Reveal(x) 使用 Microsoft Azure vTAP 或 Amazon VPC 流量镜像来获取数据包。\r\n- 隐私保护：遵循HIPAA, PCI, SOX, GDPR等法案，客户需要自己选择要解密的流量。\r\n- TLS1.3方案：ExtraHop Reveal(x) 使用轻量级的agent获取每个会话的临时会话密钥，该agent需要安装要解密的每台服务器上；agent通过 PFS 加密通道将解密后的会话安全地传输到 ExtraHop Reveal(x) 设备，在那里它们被安全存储并且只有具有最高管理权限的用户才能访问。\r\n- ![wfT2AN](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/wfT2AN.jpg)\r\n\r\n# 4. [[Gigamon]] Solution\r\n![7UduQ4](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/7UduQ4.jpg)\r\n\r\n- **入站加密流量：** 证书托管\r\n- **出站加密流量：** 中间人劫持（本地信任CA）\r\n\r\n![DaE7NT](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/DaE7NT.jpg)\r\n\r\n# 5. [[Google]] Cloud IDS Solution\r\n\r\n刚上线不久，可能还未考虑到加密流量的情况\r\n\r\n![b9GRnf](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/b9GRnf.jpg)\r\n\r\n# 6. 参考资料\r\n\r\n- [https://docs.paloaltonetworks.com/pan-os/9-1/pan-os-admin/decryption/decryption-overview](https://docs.paloaltonetworks.com/pan-os/9-1/pan-os-admin/decryption/decryption-overview)\r\n- [https://www.extrahop.com/products/cloud/how-it-works](https://www.extrahop.com/products/cloud/how-it-works)\r\n- [http://blog.nsfocus.net/east-west-flow-sum](http://blog.nsfocus.net/east-west-flow-sum)"},{"fields":{"slug":"/docs/Blue Team基础设施/网络流量采集方案/","title":"网络流量采集方案"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: 网络流量采集方案\r\ntags:\r\n- Blue Team基础设施\r\n- 网络基础设施\r\n- 行业实践\r\n- Gigamon\r\n---\r\n\r\n# 1. 基础知识\r\n两种最常见的网络流量采集方法是网络分路器(TAPs) 和交换机端口镜像(SPANs):\r\n**1.1. 网络分路器(TAPs)**\r\n一种直接连接到网络基础设施的物理设备。 TAP 位于两个设备之间，而不是两个交换机或路由器之间；并行方案，通过拷贝流量副本进行监控，不影响原始网络通讯，这种技术确保任何大小的数据包都将被拷贝并且**不容易超载**。\r\n如下图所示，Web服务器和交换机之间的流量数据被TAP设备捕获拷贝(TxA:A->B, TxB:B->A)，大多数TAP设备分别复制两个方向的流量数据，并将它们发送到单独的监控端口（TxA和TxB）\r\n![qTtJbp](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/qTtJbp.jpg)\r\n\r\n**1.2. 交换机端口镜像(SPANs)**\r\nSPAN 端口（有时称为镜像端口）是一种内置于交换机或路由器的软件功能，可拷贝通过设备的选定流量数据包的副本，并将它们发送到指定的 SPAN 端口。 由于交换机或路由器的主要目的是转发生产数据包，因此 SPAN 数据在设备上的优先级较低，SPAN 还使用单个出口端口来聚合多个链路，因此**很容易超载**。SPAN 最适合在未安装 TAP 的位置对少量数据进行临时监控。（注：SPAN 仍然是访问某些类型数据的唯一方式，例如在同一交换机上跨端口到端口的数据）\r\n\r\n![xKSTiK](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/xKSTiK.jpg)\r\n\r\n# 2. 东西向流量采集\r\n传统TAP和SPAN的方案在东西向流量采集有两个难点：**1、无法采集同一宿主机内的两台虚拟机之间的流量。2、封装了vxlan等隧道包头的数据流量无法识别**。\r\n\r\n业界主流的方案有（TAP/SPAN的基础上）：\r\n- SDN：通过SDN控制器的全网控制能力，实现东西向流量采集\r\n- API接口：通过调用云计算系统的标准引流API，实现东西向流量采集\r\n- 代理：非SDN网络下，添加一个引流的代理，实现东西向流量采集\r\n- Agent：通过在终端部署软件来实现东西向流量采集\r\n- vxlan：在虚机上做镜像，把流量通过vxlan导出去，送到一台支持vxlan终结的交换机上去，这台交换机把vxlan剥离后，送给旁挂的设备进行流量采集\r\n\r\n# 3. Gigamon Solution\r\n- **无源TAP**\r\n  - 无源TAP是在其网络端口之间没有物理隔离的设备，它从网络的两个方向接收流量，以便在监视工具上看到100％的流量。无源TAP不需要任何电源，增加了一层冗余，几乎不需要维护，并减少了总费用。\r\n- **有源TAP**\r\n  - 有源TAP在网络端口之间具有物理隔离。因此，它们需要一种故障安全机制，以确保在TAP断电时网络保持可操作状态；**有源TAP通常在下面的场景使用（无源TAP不适用）**：\r\n    1. Locations where the light levels are too low to use a splitter → regeneration provides a viable solution\r\n    2. Copper infrastructures → where electricity is used to move electrons (instead of photons)\r\n    3. Signal conversions → since an active TAP regenerates the signal anyway, it can also be designed to create a signal of a different type (such as 10Gb SR converted to 10Gb LR)\r\n    4. SFP-based links that cannot otherwise be broken (such as TwinAX cabling) → regeneration works here as well\r\n- **虚拟TAP**\r\n  - 用于网络功能虚拟化 (NFV) 以及私有和公共云基础架构，以访问托管环境中的东西向和南北向流量。\r\n  - ![hKxsTy](https://cdn.jsdelivr.net/gh/MarsAuthority/sec_pic@master/uPic/2022-12/hKxsTy.jpg)\r\n\r\n# 4. 参考资料\r\n- [https://www.gigamon.com/resources/resource-library/white-paper/to-tap-or-to-span.html](https://www.gigamon.com/resources/resource-library/white-paper/to-tap-or-to-span.html)\r\n- [https://www.gigamon.com/resources/resource-library/white-paper/understanding-network-taps-first-step-to-visibility.html](https://www.gigamon.com/resources/resource-library/white-paper/understanding-network-taps-first-step-to-visibility.html)\r\n- [https://www.secrss.com/articles/12651](https://www.secrss.com/articles/12651)\r\n- [http://blog.nsfocus.net/east-west-flow-sum](http://blog.nsfocus.net/east-west-flow-sum)"},{"fields":{"slug":"/docs/how-to/get-started-with-vscode/","title":"Getting started with VsCode"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Getting started with VsCode\r\ntags:\r\n  - How-to\r\n  - VsCode\r\n---\r\n\r\nVsCode is a powerful text editor, hidden behind a simple interface.\r\n\r\n## Keyboard shortcuts\r\nVsCode supports various **keyboard shortcuts**, the most important for us are:\r\n\r\n| Shortcut      | Action                       |\r\n| ------------- | ---------------------------- |\r\n| `cmd+N`       | create a new file            |\r\n| `cmd+S`       | save the current file        |\r\n| `cmd+O`       | open a file                  |\r\n| `cmd+P`       | use quickpick to open a file |\r\n| `cmd+shift+P` | invoke a command (see below) |\r\n\r\nFor more information, see the [vscode keyboard cheat sheets](https://code.visualstudio.com/docs/getstarted/keybindings#_keyboard-shortcuts-reference), where you can also see how to customize your keybindings.\r\n\r\n## Commands\r\nCommands make VsCode extremely powerful.\r\n\r\nTo invoke a command, press `cmd+shift+P` and select the command you want to execute.\r\nFor example, to see the Foam graph:\r\n- press `cmd+shift+P`\r\n- start typing `show graph`\r\n- select the `Foam: Show Graph` command\r\n\r\nAnd watch the magic unfold.\r\n\r\nFor more information on commands, see [commands on the VsCode site](https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette).\r\n\r\n\r\nIf you want to learn more about VsCode, check out their [website](https://code.visualstudio.com/docs#first-steps).\r\n\r\n## Panels\r\n\r\nYou can see a few panels on the left, including:\r\n- `Outline`: this panel shows you the structure of the file based on the headings\r\n- `Tag Explorer`: This shows you the tags in your workspace, see [[tags-and-tag-explorer]] for more information on tags\r\n\r\n## Settings\r\n\r\nTo view or change the settings in VsCode, press `cmd+,`\r\n\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[tags-and-tag-explorer]: ../features/tags-and-tag-explorer.md \"Tags and Tag Explorer\"\r\n[//end]: # \"Autogenerated link references\""},{"fields":{"slug":"/docs/how-to/paste-images-from-clipboard/","title":"Paste Images from Clipboard"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Paste Images from Clipboard\r\ntags:\r\n  - How-to\r\n  - VsCode\r\n---\r\n\r\n\r\nYou can paste an image from the clipboard with `cmd+alt+v`.\r\n\r\nImages are automatically copied to the `/attachments` folder and a reference is added in the file where you pasted them.\r\n\r\nA prompt will ask you to confirm the name of the image, to disable it set   `\"pasteImage.showFilePathConfirmInputBox\": false,` in the settings.\r\n\r\nTo change the location where the image is created, change the `pasteImage.path` property, e.g.:\r\n- `${currentFileDir}`: save the image next to the file\r\n- `${currentFileDir}/images`: create an `images` directory next to the file and save the image there\r\n\r\nFor more info check the [vscode-paste-image](https://github.com/mushanshitiancai/vscode-paste-image) extension page.\r\n"},{"fields":{"slug":"/docs/how-to/use-keyboard-shortcuts-for-editing/","title":"Use Keyboard Shortcuts for Editing"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Use Keyboard Shortcuts for Editing\r\ntags:\r\n  - Shortcut\r\n---\r\n\r\n\r\nHere are some keyboard shortcuts you'll love when editing your notes.\r\n\r\nThis works best if you can see the result in the preview panel, run the `Markdown: Open Preview to the Side` command.\r\n\r\n- [ ] `alt+c` changes state to a TODO item. Try it while the cursor is on this line.\r\n\r\n---\r\n\r\n- [ ] `cmd+b` makes the selection bold. Select me and make me bold.\r\n\r\n---\r\n\r\n- [ ] `cmd+i` makes the selection italic. Select me and make me italic.\r\n\r\n---\r\n\r\n- [ ] `alt+shift+f` formats a table. Place the cursor in the table below and format the table.\r\n\r\n| column 1 | column 2|\r\n|-|-|\r\n| one element | another element|\r\n| second row| last cell|\r\n\r\n---\r\n\r\n- [ ] Paste link on selected text\r\n  1. copy the following text: https://google.com\r\n  2. select me and paste\r\n\r\n---\r\n\r\n- [ ] Search in your repo with `cmd+shift+f`: type \"search\"\r\n  - (go back to the file explorer with `cmd+shift+e`)\r\n\r\n---\r\n\r\n- [ ] Paste an image\r\n  1. copy an image\r\n  2. move your cursor to the next line, then press `cmd+alt+v` and confirm the name of the file\r\n  3. .\r\n  4. the image file has been created in `/attachments` and a reference to it has been added here\r\n"},{"fields":{"slug":"/docs/how-to/write-notes-in-foam/","title":"Writing Notes"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Writing Notes\r\ntags:\r\n  - Notes\r\n  - Writing\r\n---\r\n\r\nNotes are simple text files with some extra flavor, in the shape of Markdown syntax and support for extra properties (see [[note-properties]]).\r\n\r\n## Foam Syntax\r\n\r\nFoam uses standard markdown, with a few added twists:\r\n- the title of a note (e.g. in the [[graph-visualization]]) is given by precedence based on:\r\n  - the `title` property (see [[note-properties]])\r\n  - the first `# heading 1`  of the file\r\n  - the file name\r\n\r\n\r\n## Markdown Syntax\r\nWith markdown we can style our notes in a simple way, while keeping the document a simple text file (the best way to future-proof your writings!).\r\n\r\nYou can see the formatted output by running the `Markdown: Open Preview to the Side` command.\r\n\r\nHere is a high level overview of Markdown, for more information on the markdown syntax [see here](https://commonmark.org/help/).\r\n\r\nThis is a [link to google](https://www.google.com).\r\n\r\nThis is a wiki link (aka internal link) to [[note-properties]].\r\n\r\nHere is an image:\r\n![image](../../attachments/foam-icon.png)\r\n\r\n> this is a blockquote\r\n> it can span multiple lines\r\n\r\n- list item\r\n- list item\r\n- list item\r\n\r\n1. One\r\n2. Two\r\n3. Three\r\n\r\nThis text is **in bold** and this is *italic*.\r\n\r\nThe following is a horizontal rule\r\n\r\n---\r\n\r\nThis is a table:\r\n| Column 1 | Column 2 |\r\n| -------- | -------- |\r\n| R1C1     | R1C2     |\r\n| R2C1     | R2C2     |\r\n\r\nYou can `inline code` or\r\n```\r\nyou can create\r\ncode blocks\r\n```\r\n\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[note-properties]: ../features/note-properties.md \"Note Properties\"\r\n[graph-visualization]: ../features/graph-visualization.md \"Graph Visualization\"\r\n[note-properties]: ../features/note-properties.md \"Note Properties\"\r\n[note-properties]: ../features/note-properties.md \"Note Properties\"\r\n[//end]: # \"Autogenerated link references\""},{"fields":{"slug":"/docs/features/daily-notes/","title":"Daily Notes"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Daily Notes\r\ntags:\r\n  - Notes\r\n  - Daily\r\n---\r\nDaily notes allow you to quickly create and access notes for today.\r\n\r\nTry it out, run the `Foam: Open Daily Note` command.\r\n\r\n## Shortcuts and Snippets\r\n\r\nYou can quickly open today's daily note by pressing `alt+d`.\r\nYou can also automatically open today's note via the `Foam › Open Daily Note: On Startup` setting.\r\n\r\nYou can also quickly create link to your daily notes, in the configured format, using [snippets](https://code.visualstudio.com/docs/editor/userdefinedsnippets).\r\n\r\nType `/today` and press `enter` to link to today's note.\r\nYou can also write:\r\n\r\n| Snippet      | Date          |\r\n| ------------ | ------------- |\r\n| `/tomorrow`  | tomorrow      |\r\n| `/yesterday` | yesterday     |\r\n| `/monday`    | next monday   |\r\n| `/+1d`       | tomorrow      |\r\n| `/-3d`       | 3 days ago    |\r\n| `/+1w`       | in a week     |\r\n| `/-1m`       | one month ago |\r\n| `/+1y`       | in one year   |\r\n\r\nYou get the idea ;)\r\n\r\n## Configuration\r\n\r\nIt's possible to customize path and heading of your daily notes, by following the [dateformat masking syntax](https://github.com/felixge/node-dateformat#mask-options).\r\nThe following properties can be used:\r\n```json\r\n  \"foam.openDailyNote.directory\": \"journal\",\r\n  \"foam.openDailyNote.filenameFormat\": \"'daily-note'-yyyy-mm-dd\",\r\n  \"foam.openDailyNote.fileExtension\": \"mdx\",\r\n  \"foam.openDailyNote.titleFormat\": \"'Journal Entry, ' dddd, mmmm d\",\r\n```\r\n\r\nThe above configuration would create a file `journal/daily-note-2020-07-25.mdx`, with the heading `Journal Entry, Sunday, July 25`.\r\n\r\n"},{"fields":{"slug":"/docs/features/graph-visualization/","title":"Graph Visualization"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Graph Visualization\r\ntags:\r\n  - Graph\r\n---\r\n\r\nFoam comes with a graph visualization of your notes.\r\nTo see the graph execute the `Foam: Show Graph` command.\r\n\r\n## Graph Navigation\r\n\r\nWith the graph you can:\r\n- highlight a node by hovering on it, to quickly see how it's connected to the rest of your notes\r\n- select one or more (by keeping `shift` pressed while selecting) nodes by clicking on them, to better understand the structure of your notes\r\n- navigate to a note by clicking on it while pressing `ctrl` or `cmd`\r\n- automatically center the graph on the currently edited note, to immediately see its connections\r\n\r\n## Custom Graph Styles\r\n\r\nBy default the Foam graph will use the VsCode theme, but it's possible to customize it with the `foam.graph.style` setting.\r\n\r\nA sample configuration object is provided below, you can provide as many or as little configuration as you wish:\r\n\r\n```json\r\n\"foam.graph.style\": {\r\n    \"background\": \"#202020\",\r\n    \"fontSize\": 12,\r\n    \"highlightedForeground\": \"#f9c74f\",\r\n    \"node\": {\r\n        \"note\": \"#277da1\",\r\n        \"placeholder\": \"#545454\",\r\n        \"feature\": \"green\",\r\n    }\r\n}\r\n```\r\n\r\n- `note` defines the color for regular nodes\r\n- `placeholder` defines the color for links that don't match any existing note. This is a [[placeholder]] because no file with such name exists (see [[wiki-links]] for more info).\r\n- `feature` shows an example of how you can use note types to customize the graph. It defines the color for the notes of type `feature`\r\n  - see [[note-properties]] for details\r\n  - you can have as many types as you want\r\n\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[wiki-links]: wiki-links.md \"Wiki Links\"\r\n[note-properties]: note-properties.md \"Note Properties\"\r\n[//end]: # \"Autogenerated link references\""},{"fields":{"slug":"/docs/features/link-reference-definitions/","title":"Link Reference Definitions"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Link Reference Definitions\r\ntags:\r\n  - Link\r\n---\r\n\r\nWhen you use `[[wiki-links]]`, the [foam-vscode](https://github.com/foambubble/foam/tree/master/packages/foam-vscode) extension can generate [Markdown Link Reference Definitions](https://spec.commonmark.org/0.29/#link-reference-definitions) at the bottom of the file.\r\n\r\nThis is done to make the content of the file compatible with various Markdown tools (e.g. parsers, static site generators, VS code plugins etc), which don't support `[[wiki-links]]` directly.\r\n\r\nThis feature is disabled by default because you don't need it to navigate your workspace, it is useful for publishing and compatibility of your notes.\r\n\r\n## Example\r\n\r\nThe following example:\r\n  ```md\r\n  - [[graph-visualization]]\r\n  ```\r\n...generates the following link reference definitions to the bottom of the file:\r\n  ```md\r\n  [graph-visualization]: graph-visualization \"Graph Visualization\"\r\n  ```\r\n\r\n## Configuration\r\n\r\nYou can use the `foam.edit.linkReferenceDefinitions` to configure the definitions (see [[get-started-with-vscode]]):\r\n- `withoutExtensions` (default): this works better with certain web publishing tools (e.g. GitHub pages)\r\n- `withExtensions`: this works better with standard markdown-based tools (e.g GitHub web UI)\r\n- `off`: this disables the generation of definitions\r\n\r\nAfter changing the setting in your workspace, you can run the `Foam: Run Janitor (Experimental)` command to convert all existing definitions.\r\n\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[get-started-with-vscode]: ../how-to/get-started-with-vscode.md \"Getting started with VsCode\"\r\n[//end]: # \"Autogenerated link references\""},{"fields":{"slug":"/docs/features/note-properties/","title":"Note Properties"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Note Properties\r\ntype: feature\r\nkeywords: hello world\r\ntags:\r\n  - Properties\r\n---\r\n\r\n\r\n\r\nAt the top of the file you can have a section where you define your properties.\r\n\r\n> Be aware that this section needs to be at the very top of the file to be valid\r\n\r\nFor example, for this file, we have:\r\n```\r\n---\r\ntype: feature\r\nkeywords: hello world\r\n---\r\n```\r\n\r\nThose are properties.\r\nProperties can be used to organize your notes.\r\n\r\n## Special Properties\r\nSome properties have special meaning for Foam:\r\n- the `title` property will assign the name to the note that you will see in the graph, regardless of the filename or the first heading (also see how to [[write-notes-in-foam]])\r\n- the `type` property can be used to style notes differently in the graph (also see [[graph-visualization]])\r\n- the `tags` property can be used to add tags to a note (see [[tags-and-tag-explorer]])\r\n\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[write-notes-in-foam]: ../how-to/write-notes-in-foam.md \"Writing Notes\"\r\n[graph-visualization]: graph-visualization.md \"Graph Visualization\"\r\n[tags-and-tag-explorer]: tags-and-tag-explorer.md \"Tags and Tag Explorer\"\r\n[//end]: # \"Autogenerated link references\""},{"fields":{"slug":"/docs/features/note-templates/","title":"Note Templates"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Note Templates\r\ntags:\r\n  - Templates\r\n---\r\n\r\n\r\nYou can create notes from templates by running the `Foam: Create New Note from Template` command and follow the instructions.\r\n\r\nTo create a template, just add regular `.md` files in `.foam/templates` (create the directory if necessary).\r\n\r\nTemplates can use all the variables available in [VsCode Snippets](https://code.visualstudio.com/docs/editor/userdefinedsnippets#_variables).\r\n\r\n"},{"fields":{"slug":"/docs/features/spell-checking/","title":"Spell Checking"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Spell Checking\r\ntags:\r\n  - Templates\r\n---\r\n\r\nFoam comes with a spell checker.\r\n\r\nMisspelled words are highlighted, like hellow.\r\nYou can place the cursor on top of the word, and press `cmd+.` for suggestions on how to fix the problem.\r\n\r\nYou can configure the extension in the settings, for example to:\r\n- ignore certain files\r\n- change the language(s)\r\n- and much more\r\n\r\nFor more information go to the [Spellright extension page](https://marketplace.visualstudio.com/items?itemName=ban.spellright).\r\n\r\nThere are many spell checking extensions for VsCode.\r\nAnother one of our favorites is [LTeX](https://marketplace.visualstudio.com/items?itemName=valentjn.vscode-ltex&ssr=false#overview), which is a bit heavier but offers some extra functionality.\r\n"},{"fields":{"slug":"/docs/features/tags-and-tag-explorer/","title":"Tags and Tag Explorer"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Tags and Tag Explorer\r\ntags: \r\n  - my-tag1\r\n  - my-tag2\r\n---\r\n\r\n\r\n## Tags\r\n\r\nYou can add tags to your notes to categorize them, or in any way you want.\r\n\r\nThere are two ways to add tags:\r\n- you can add #tags just by writing them in the note\r\n- another way is through [[note-properties]], as you can see at the top of this file\r\n\r\n## Tag Explorer\r\nIn the sidebar to the left, you will see a panel called `Tag Explorer`.\r\n\r\nYou can use this panel to see the tags in your notes, and navigate them.\r\n\r\nNotice `my-tag1` and `my-tag2`, which were added via [[note-properties]].\r\n\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[note-properties]: note-properties.md \"Note Properties\"\r\n[note-properties]: note-properties.md \"Note Properties\"\r\n[//end]: # \"Autogenerated link references\""},{"fields":{"slug":"/docs/features/wiki-links/","title":"Wiki Links"},"frontmatter":{"draft":false},"rawBody":"---\r\ntitle: Wiki Links\r\ntags:\r\n  - Link\r\n---\r\n\r\nWiki links are the internal links that connect the files in your knowledge base.\r\n\r\nTo create a wiki link use `[[` and type the name of another file in your repo, for example [[graph-visualization]]\r\n\r\nYou can also create a [[placeholder]].\r\nA placeholder is a wiki link that doesn't have a target file and a link to a placeholder is styled differently so you can easily tell them apart.\r\nThey can still be helpful to highlight connections.\r\n\r\nOpen the graph with `Foam: Show Graph` command, and look at the placeholder node.\r\n\r\nRemember, with `CTRL/CMD+click` on a wikilink you can navigate to the note, or create it (if the link is a placeholder).\r\n\r\n[//begin]: # \"Autogenerated link references for markdown compatibility\"\r\n[graph-visualization]: graph-visualization.md \"Graph Visualization\"\r\n[//end]: # \"Autogenerated link references\""}]}}}